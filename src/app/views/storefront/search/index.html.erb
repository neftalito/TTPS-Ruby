<section class="space-y-8">
  <header class="space-y-4 text-center">
    <p class="text-sm uppercase tracking-widest text-proyecto-secondary">Buscador</p>
    <h1 class="text-3xl font-bold text-proyecto-primary">Encontrá tu próxima compra</h1>
    <p class="text-proyecto-secondary max-w-2xl mx-auto">
      Filtrá por nombre o descripción y recorré los resultados con paginación.
    </p>

    <%= form_with url: storefront_search_path,
                  method: :get,
                  local: true,
                  class: "flex flex-col sm:flex-row gap-3 max-w-2xl mx-auto" do %>
      <input type="text"
             name="q"
             value="<%= h @query %>"
             placeholder="Ingresá artista, álbum, formato..."
             class="flex-1 rounded-lg border border-proyecto-secondary/50 px-4 py-3 focus:border-proyecto-primary focus:ring-2 focus:ring-proyecto-primary/40" />

      <button type="submit"
              class="px-6 py-3 rounded-lg bg-proyecto-primary text-proyecto-bg font-semibold hover:bg-proyecto-accent">
        Buscar
      </button>
    <% end %>
  </header>

  <% if @query.blank? %>
    <div class="bg-white border border-dashed border-proyecto-secondary/60 rounded-xl p-10 text-center">
      <p class="text-lg text-proyecto-secondary">
        Escribí un término en el buscador para comenzar.
      </p>
    </div>
  <% elsif @products.any? %>
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <% @products.each do |product| %>
        <%= render partial: "storefront/products/card", locals: { product: product } %>
      <% end %>
    </div>

    <%= render "shared/pagination", collection: @products %>
  <% else %>
    <div class="bg-white border border-dashed border-proyecto-secondary/60 rounded-xl p-10 text-center space-y-3">
      <p class="text-lg text-proyecto-primary font-semibold">Sin resultados</p>
      <p class="text-proyecto-secondary">
        No encontramos coincidencias para "<%= @query %>". Probá con otro término o revisá la ortografía.
      </p>
    </div>
  <% end %>
</section>